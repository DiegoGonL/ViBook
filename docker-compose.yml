 version: '3.7'
 services:
   # SERVICIO DE FORNTEND
   frontend:
     build: './client'
     # Host port proxy
     ports:
       - "13003:3000"
     volumes:
       - ./client:/app
     environment:
       # If a production enviroment is desired, set the APP_ENV variable to production
       # APP_ENV: 'production'
       APP_ENV: 'development'
     links:
       - api
     #depends_on:
     #  - api
     networks:
       - frontend
   # SERVICIO DE BACKEND
   api:
     build: './server'
      # Host port proxy
     ports:
       - "13033:3030"
     volumes:
       - ./server:/app
     depends_on:
       - db
     networks:
       - frontend
       - backend
   # SERVICIO DE BASE DE DATOS (MariaDB)
   db:
     image: mariadb:10.3
     restart: always
     volumes: 
       - ./mariadb:/var/lib/mysql
     environment:
       MYSQL_ROOT_PASSWORD: toor
       MYSQL_DATABASE: vibook_data
       MYSQL_USER: lisho
       MYSQL_PASSWORD: toor
     ports:
       - "13013:3306"
     networks:
       - backend
   # SERVICIO DE GESTIÃ“N DE LA BASE DE DATOS (PHPMYADMIN)
   phpmyadmin:
     image: phpmyadmin
     restart: always
     ports:
       - "13083:80"
     environment:
       - PMA_ARBITRARY=1
     networks:
       - backend
 # REDES ENTRE CONTENEDORES
 networks:
   frontend:
   backend: